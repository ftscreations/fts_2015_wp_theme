/*! FTS 2015 - v0.1.0 - 2015-02-27
 * http://ftscreations.com
 * Copyright (c) 2015; * Licensed GPLv2+ */
!function(a,b){"use strict";a(document).ready(function(){function c(){a(".left-part").css("transition-delay",(Math.floor(9*Math.random())+4)/10+"s");for(var b=1;l>=b;b++)a(".bg-part:nth-child("+b+")").css("transition-delay",(Math.floor(9*Math.random())+4)/10+"s")}function d(b){var d=b||2e3;o.addClass("not-visible"),setTimeout(function(){j=!1,c()},d),setTimeout(function(){a(".heading-container").css({"margin-top":0-100*(parseInt(a(".nav-elem.active").attr("data-page"))-1)+"vh"}).hide()},410),setTimeout(function(){o.show(),o.css("top"),o.removeClass("not-visible")},d+10)}function e(b){b&&(k=b),j=!0;var c=0-100*(k-1);a(".bg-part, .left-part").css("margin-top",c+"vh"),a(".scroll-down").addClass("removed"),1===parseInt(a(".nav-elem.active").attr("data-page"))&&a(".scroll-down").removeClass("removed")}function f(b){a(".left-part, .bg-part").css({"transition-duration":"0s","transition-delay":"0s"}),a(".main").css("top"),e(b),a(".main").css("top"),a(".left-part, .bg-part").css("transition-duration","0.8s"),c()}function g(b){a(".nav-elem").removeClass("active"),a(".nav-"+b).addClass("active"),k=b,m.text(l>=10?b:"0"+b)}function h(){k>1&&(k--,g(k),e(),d())}function i(){l>k&&(k++,g(k),e(),d())}var j=!1,k=1,l=a(".section").length,m=(a(".sections"),a(".pagination .page")),n=a(".total-pages"),o=a(".heading-container");n.text(l>=10?l:"0"+l),a(document).on("mousewheel DOMMouseScroll",function(a){j||(a.originalEvent.wheelDelta>0||a.originalEvent.detail<0?h():i())}),a(document).on("mousewheel DOMMouseScroll",".sidebar-hover, .sidebar-real",function(a){a.stopPropagation()});var p=0,q=a(".nav-elem"),r=a(".sidebar-real"),s=q.length*q.height()-a(b).height();a(document).on("mousewheel DOMMouseScroll",".sidebar-real",function(a){if(!j){if(a.originalEvent.wheelDelta>0||a.originalEvent.detail<0){if(!p)return;p+=100,p>0&&(p=0)}else{if(Math.abs(p)===s)return;p-=100,Math.abs(p)>s&&(p=0-s)}r.css("transform","translateY("+p+"px)")}}),a(document).on("click",".nav-elem:not(.active)",function(){if(!j){var b=parseInt(a(".nav-elem.active").attr("data-page"),10),h=a(this).attr("data-page");if(g(h),Math.abs(b-h)>2){var i=a(".section-"+h).clone(),k=a(".section-"+b),l=0;h>b?(k.after(i),l=b+1,a(".main").css("top"),c(),e(l)):(k.before(i),l=b-1,f(b+1),a(".main").css("top"),c(),a(".main").css("top"),e(b)),d(2050),setTimeout(function(){i.remove(),f(h)},2e3)}else e(h),d()}}),a(b).resize(function(){s=q.length*q.height()-a(b).height(),r.css("transform","translateY(0)")})})}(jQuery,this);